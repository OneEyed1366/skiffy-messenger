# T0.04: Team Types

## Metadata

| Field        | Value      |
| ------------ | ---------- |
| **ID**       | T0.04      |
| **Layer**    | L0 - Types |
| **Status**   | pending    |
| **Priority** | high       |
| **Estimate** | 1h         |
| **Parallel** | true       |
| **Assignee** | -          |
| **Created**  | 2026-01-04 |
| **Updated**  | 2026-01-04 |

## Dependencies

None

## Blocks

| Task ID | Name            |
| ------- | --------------- |
| T7.03   | useTeamsStore   |
| T8.02   | useCurrentTeam  |
| T8.06   | useTeam         |
| T10a.03 | SidebarTeamMenu |

## Description

Migrate team-related TypeScript types from Mattermost.

## Source File

`vendor/desktop/webapp/platform/types/src/teams.ts`

## Target File

`apps/v2/src/types/team.ts`

## Implementation

```typescript
// apps/v2/src/types/team.ts

/**
 * Team-related type definitions
 * Migrated from: vendor/desktop/webapp/platform/types/src/teams.ts
 */

//#region Team Types

export type ITeamType = "O" | "I";

export type ITeam = {
  id: string;
  create_at: number;
  update_at: number;
  delete_at: number;
  display_name: string;
  name: string;
  description: string;
  email: string;
  type: ITeamType;
  company_name: string;
  allowed_domains: string;
  invite_id: string;
  allow_open_invite: boolean;
  scheme_id: string;
  group_constrained: boolean;
  policy_id?: string | null;
  last_team_icon_update?: number;
};

//#endregion

//#region Team Membership

export type ITeamUnread = {
  team_id: string;
  mention_count: number;
  mention_count_root: number;
  msg_count: number;
  msg_count_root: number;
  thread_count?: number;
  thread_mention_count?: number;
  thread_urgent_mention_count?: number;
};

export type ITeamMembership = ITeamUnread & {
  user_id: string;
  roles: string;
  delete_at: number;
  scheme_admin: boolean;
  scheme_guest: boolean;
  scheme_user: boolean;
};

//#endregion

//#region Team Stats

export type ITeamStats = {
  team_id: string;
  total_member_count: number;
  active_member_count: number;
};

//#endregion

//#region Team with Count

export type ITeamsWithCount = {
  teams: ITeam[];
  total_count: number;
};

//#endregion

//#region Team Member Errors

export type ITeamMemberWithError = {
  member: ITeamMembership;
  user_id: string;
  error: {
    id: string;
    message: string;
    status_code?: number;
  };
};

export type ITeamInviteWithError = {
  email: string;
  error: {
    id: string;
    message: string;
  };
};

//#endregion

//#region Team Search

export type ITeamSearchOpts = {
  page?: number;
  per_page?: number;
  allow_open_invite?: boolean;
  group_constrained?: boolean;
};

//#endregion
```

## Index Export

```typescript
// Add to apps/v2/src/types/index.ts

export type {
  ITeam,
  ITeamType,
  ITeamUnread,
  ITeamMembership,
  ITeamStats,
  ITeamsWithCount,
  ITeamMemberWithError,
  ITeamInviteWithError,
  ITeamSearchOpts,
} from "./team";
```

## Acceptance Criteria

- [ ] All team types migrated
- [ ] All types prefixed with `I`
- [ ] Exported from index
- [ ] TypeScript compiles

## Testing

```bash
pnpm --filter @retrievly/app tsc --noEmit
```
