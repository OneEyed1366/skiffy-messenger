# T0.14: Search Types

## Metadata

| Field        | Value      |
| ------------ | ---------- |
| **ID**       | T0.14      |
| **Layer**    | L0 - Types |
| **Status**   | pending    |
| **Priority** | medium     |
| **Estimate** | 1h         |
| **Parallel** | true       |
| **Assignee** | -          |
| **Created**  | 2026-01-04 |
| **Updated**  | 2026-01-04 |

## Dependencies

None

## Blocks

| Task ID | Name          |
| ------- | ------------- |
| T8.18   | useSearch     |
| T10e.03 | SearchResults |

## Description

Migrate search-related TypeScript types from Mattermost.

## Source Files

- `vendor/desktop/webapp/platform/types/src/search.ts`

## Target File

`apps/v2/src/types/search.ts`

## Implementation

```typescript
// apps/v2/src/types/search.ts

/**
 * Search-related type definitions
 * Migrated from: vendor/desktop/webapp/platform/types/src/search.ts
 */

//#region Search Query

export type ISearch = {
  terms: string;
  isOrSearch: boolean;
};

//#endregion

//#region Search Parameter

export type ISearchParameter = {
  terms: string;
  is_or_search: boolean;
  time_zone_offset?: number;
  page: number;
  per_page: number;
  include_deleted_channels: boolean;
};

//#endregion

//#region Search State

export type ISearchMatches = {
  [postId: string]: string[];
};

export type ISearchTruncationInfo = {
  posts: number;
  files: number;
};

export type ISearchState = {
  current: ISearch | null;
  results: string[];
  fileResults: string[];
  flagged: string[];
  pinned: Record<string, string[]>;
  isSearchingTerm: boolean;
  isSearchGettingMore: boolean;
  isLimitedResults: number;
  matches: ISearchMatches;
  truncationInfo?: ISearchTruncationInfo;
};

//#endregion
```

## Index Export

```typescript
// apps/v2/src/types/index.ts

export type {
  ISearch,
  ISearchParameter,
  ISearchMatches,
  ISearchTruncationInfo,
  ISearchState,
} from "./search";
```

## Acceptance Criteria

- [ ] All types defined with `type` keyword
- [ ] All types prefixed with `I`
- [ ] Uses `#region` comments for organization
- [ ] Exported from `types/index.ts`
- [ ] No `any` types (replaced `current: any` with `current: ISearch | null`)
- [ ] TypeScript strict mode passes

## Testing

```bash
pnpm --filter @retrievly/app tsc --noEmit
```
